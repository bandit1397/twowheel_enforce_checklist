<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>단속용 간편 판별기</title>

<style>
  body {
    font-family: "Malgun Gothic", sans-serif;
    padding: 20px;
    background: #f5f5f5;
  }
  h2 {
    margin-top: 0;
    font-size: 1.3em;
  }
  .box {
    background: white;
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 15px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .section-title {
    font-size: 1.1em;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .btn {
    width: 100%;
    padding: 15px;
    font-size: 1.1em;
    border: none;
    border-radius: 12px;
    background: #333;
    color: white;
    margin-top: 10px;
  }
  .result-box {
    font-size: 1.5em;
    font-weight: 900;
    padding: 20px;
    text-align: center;
    border-radius: 12px;
  }
  /* 결과 색상 */
  .bike { color: #111; }                 /* 자전거 */
  .ebike { color: #0055ff; }            /* 전기자전거 */
  .pm { color: #00a000; }               /* 개인형이동장치(PM) */
  .moto { color: #d00000; }             /* 원동기장치자전거 */
  .exercise { color: #0077ff; }         /* 운동기구 */
</style>

</head>
<body>

<h2>단속 현장 간편 판별기</h2>

<!-- 1차 구동 방식 -->
<div class="box">
  <div class="section-title">① 구동 방식</div>
  <label><input type="radio" name="drive" value="human"> 사람의 힘만으로 움직임</label><br>
  <label><input type="radio" name="drive" value="assist"> 사람 힘 + 전동기 동시 동력</label><br>
  <label><input type="radio" name="drive" value="motor"> 전동기 동력만으로 움직임</label>
</div>

<!-- 자전거 조건 -->
<div id="bikeBox" class="box" style="display:none;">
  <div class="section-title">② 자전거 요건</div>
  <label><input type="checkbox" id="bike_wheel"> 바퀴 2개 이상</label><br>
  <label><input type="checkbox" id="bike_mech"> 페달·조향·제동장치 있음</label>
</div>

<!-- 전기자전거 조건 -->
<div id="ebikeBox" class="box" style="display:none;">
  <div class="section-title">② 전기자전거 3요건</div>
  <label><input type="checkbox" id="ebike_sync"> 페달 + 전동기 동시 동력</label><br>
  <label><input type="checkbox" id="ebike_limit"> 25km/h 이상시 전동기 미작동</label><br>
  <label><input type="checkbox" id="ebike_weight"> 총중량 30kg 미만</label>
</div>

<!-- PM 조건 -->
<div id="pmBox" class="box" style="display:none;">
  <div class="section-title">② PM(개인형 이동장치) 요건</div>
  <label><input type="checkbox" id="pm_speed"> 25km/h 이상에서 전동기 작동 X</label><br>
  <label><input type="checkbox" id="pm_weight"> 차체 중량 30kg 미만</label><br>
  <label><input type="checkbox" id="pm_cert"> 안전확인 신고된 제품</label>
</div>

<button class="btn" onclick="checkResult()">판별하기</button>

<div id="result" class="result-box" style="margin-top:20px; display:none;"></div>

<script>
document.querySelectorAll('input[name="drive"]').forEach(r => {
  r.addEventListener('change', () => {
    document.getElementById("bikeBox").style.display = "none";
    document.getElementById("ebikeBox").style.display = "none";
    document.getElementById("pmBox").style.display = "none";

    if (r.value === "human") {
      document.getElementById("bikeBox").style.display = "block";
    }
    if (r.value === "assist") {
      document.getElementById("ebikeBox").style.display = "block";
    }
    if (r.value === "motor") {
      document.getElementById("pmBox").style.display = "block";
    }
  });
});

function checkResult() {
  const drive = document.querySelector('input[name="drive"]:checked');
  const result = document.getElementById("result");

  if (!drive) {
    alert("구동 방식을 선택하세요.");
    return;
  }

  // --------------------------
  // 1) 사람 힘만 → 자전거 or 운동기구
  // --------------------------
  if (drive.value === "human") {
    const wheel = document.getElementById("bike_wheel").checked;
    const mech = document.getElementById("bike_mech").checked;

    if (wheel && mech) {
      result.className = "result-box bike";
      result.innerHTML = "자전거";
    } else {
      result.className = "result-box exercise";
      result.innerHTML = "운동기구";
    }

    result.style.display = "block";
    return;
  }

  // --------------------------
  // 2) 동시 동력 → 전기자전거 판별
  // --------------------------
  if (drive.value === "assist") {
    const s = document.getElementById("ebike_sync").checked;
    const l = document.getElementById("ebike_limit").checked;
    const w = document.getElementById("ebike_weight").checked;

    if (s && l && w) {
      result.className = "result-box ebike";
      result.innerHTML = "전기자전거";
    } else {
      result.className = "result-box moto";
      result.innerHTML = "원동기장치자전거";
    }

    result.style.display = "block";
    return;
  }

  // --------------------------
  // 3) 전동기만 → PM or 원동기장치자전거
  // --------------------------
  if (drive.value === "motor") {
    const s = document.getElementById("pm_speed").checked;
    const w = document.getElementById("pm_weight").checked;
    const c = document.getElementById("pm_cert").checked;

    if (s && w && c) {
      result.className = "result-box pm";
      result.innerHTML = "개인형 이동장치(PM)";
    } else {
      result.className = "result-box moto";
      result.innerHTML = "원동기장치자전거";
    }

    result.style.display = "block";
    return;
  }
}
</script>

</body>
</html>
