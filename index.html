<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>이륜 단속 체크리스트 + 처벌규정</title>
<style>
  body { font-family: Arial, sans-serif; margin: 10px; padding: 0; background:#f9f9f9; font-size: 16px; }
  h2 { color: #2a4d91; font-size: 26px; }
  h3 { font-size: 20px; margin-bottom: 10px; }
  .section { margin: 15px 0; padding: 14px; border: 1px solid #aaa; border-radius: 8px; background:#fff; }
  .hidden { display: none; }
  label { display: block; margin: 8px 0; font-size: 16px; }
  input[type="radio"], input[type="checkbox"] { margin-right: 8px; }
  .result { margin-top: 15px; padding: 14px; border: 2px solid #333; border-radius: 8px; background: #fff; font-size: 16px; }
  ul { margin: 5px 0 0 20px; padding-left: 0; list-style-type: none; }
  li.depth0 { font-weight: bold; margin-top: 8px; cursor: pointer; user-select: none; }
  li.depth1, li.depth2 { margin-left: 20px; color:#2a4d91; display: none; }
  li.depth2 { margin-left: 40px; color:#555; }

  @media (max-width: 600px) {
    body { font-size: 18px; }
    h2 { font-size: 24px; }
    h3 { font-size: 20px; }
    label { font-size: 18px; }
    .result { font-size: 18px; padding: 12px; }
    ul li.depth1 { margin-left: 15px; }
    ul li.depth2 { margin-left: 30px; }
    .section { padding: 12px; }
  }
</style>
</head>
<body>

<h2>PM 등 단속 체크리스트</h2>

<div class="section">
  <h3>1. 동력 방식 선택</h3>
  <label><input type="radio" name="drive" value="human"> 사람의 힘으로 페달 or 손페달 사용</label>
  <label><input type="radio" name="drive" value="motor"> 전동기 단독 가능(스로틀, 파스/스로틀 겸용)</label>
  <label><input type="radio" name="drive" value="hybrid"> 페달 + 전동기 동시 동력(전동기 단독 불가)</label>
</div>

<div class="section hidden" id="bike-check">
  <h3>2. 자전거 조건 확인</h3>
  <label><input type="checkbox" id="powertrain"> 구동장치</label>
  <label><input type="checkbox" id="steeringsystem"> 조향장치</label>
  <label><input type="checkbox" id="brake"> 제동장치</label>
  <label><input type="checkbox" id="twowheels"> 바퀴 2개 이상인 차</label>
  <label><input type="checkbox" id="ministerialordinance"> 행정안전부령으로 정하는 크기와 구조</label>
</div>

<div class="section hidden" id="basic-check">
  <h3>2. 기본 조건 확인</h3>
  <label><input type="radio" name="engine" id="engineOk" value="ok"> 전기동력 11kw 이하</label>
  <label><input type="radio" name="engine" id="engineExceed" value="exceed"> 전기동력 11kw 초과</label>
</div>

<div class="section hidden" id="speed-weight-check">
  <h3>3. 속도 / 중량 조건 확인</h3>
  <label><input type="checkbox" id="speedOk"> 시속 25km 이상에서 전동기 작동하지 않음</label>
  <label><input type="checkbox" id="weightOk"> 자체 중량 30kg 미만</label>
  <label id="ministerialLabel"><input type="checkbox" id="ministerialordinance1"> 행정안전부령으로 정하는 것</label>
</div>

<div class="result" id="result">판별 결과가 여기에 표시됩니다.</div>

<div class="section hidden" id="penalty-section">
  <h3> 차종별 위반 및 처벌</h3>
  <ul id="penalty-list"></ul>
</div>

<script>
// penalties 정의
const penalties = {
  "이륜자동차": [
    { text: "▶ 무면허위반", depth: 0 },
    { text: "→ 1년 이하의 징역 또는 300만원 이하 벌금", depth: 1 },
    
    { text: "▶ 음주운전", depth: 0 },
    { text: "→ 1년이하 징역 또는 500만원 이하 벌금(0.03퍼센트 이상 0.08퍼센트 미만)", depth: 1 },
    
    { text: "▶ 통행구분위반(보도운행 등)", depth: 0 },
    { text: "→ 범칙금", depth: 1 },
     
    { text: "▶ 운전자준수사항위반", depth: 0 },
    { text: "► 안전모 미착용", depth: 1 },
    { text: "→ 범칙금(운전자), 과태료(동승자 미착용→운전자에게 부과)", depth: 2 },
    { text: "► 승차정원 초과", depth: 1 },
    { text: "→ 범칙금 4만원", depth: 2 },
  ],

  
  "원동기장치자전거": [
    { text: "▶ 무면허위반", depth: 0 },
    { text: "→ 벌금 30만원(경미범죄 현행범인체포)", depth: 1 },
    
    { text: "▶ 음주운전", depth: 0 },
    { text: "→ 1년이하 징역 또는 500만원 이하 벌금(0.03퍼센트 이상 0.08퍼센트 미만)", depth: 1 },
    
    { text: "▶ 통행구분위반(보도운행 등)", depth: 0 },
    { text: "→ 범칙금", depth: 1 },
    
    { text: "▶ 운전자준수사항위반", depth: 0 },
    { text: "► 안전모 미착용", depth: 1 },
    { text: "→ 범칙금(운전자), 과태료(동승자 미착용→운전자에게 부과)", depth: 2 },
    { text: "► 승차정원 초과", depth: 1 },
    { text: "→ 범칙금 4만원", depth: 2 },
  ],


  "개인형이동장치": [
    { text: "▶ 무면허위반", depth: 0 },
    { text: "► 14세 이상", depth: 1 },
    { text: "→ 범칙금", depth: 2 },
    { text: "► 13세 미만(어린이)", depth: 1 },
    { text: "→ (보호자에게)과태료", depth: 2 },
    { text: "※ 보호자가 어린이의 PM 운행사실 인지하고 있는 경우 보호자 과태료", depth: 2 },
    { text: "※ 13세의 경우: 법의 사각지대", depth: 2 },
     
    { text: "▶ 음주운전(도로가 아닌 경우도 적용)", depth: 0 },
    { text: "► 음주운전", depth: 1 },
    { text: "→ 범칙금", depth: 2 },
    { text: "► 음주측정거부", depth: 1 },
    { text: "→ 범칙금", depth: 2 },
    { text: "► 음주측정방해", depth: 1 },
    { text: "→ 범칙금", depth: 2 },
   
    { text: "□ 통행구분위반(보도운행, 자전거도로 우선이용 등)", depth: 0 },
    { text: "→ 범칙금", depth: 1 },

    { text: "▶ 운전자준수사항위반", depth: 0 },
    { text: "► 안전모 미착용", depth: 1 },
    { text: "→ 범칙금(운전자), 과태료(동승자 미착용→운전자에게 부과)", depth: 2 },
    { text: "► 승차정원 초과", depth: 1 },
    { text: "→ 범칙금 4만원", depth: 2 },
    { text: "→ 전동킥보드 및 전동이륜평행차의 경우: 1명", depth: 2 },
    { text: "→ 전동기의 동력만으로 움직일 수 있는 자전거의 경위: 2명", depth: 2 },
  ],
  
  "전기자전거(도로교통법상 자전거)": [
    { text: "▶ 무면허위반", depth: 0 },
    { text: "► 무면허 규정 없음", depth: 1 },
    { text: "→ 모든 연령 가능", depth: 2 },
    
    { text: "▶ 음주운전", depth: 0 },
    { text: "→ 범칙금 3만원", depth: 1 },
    
    { text: "▶ 통행구분위반(보도운행, 자전거도로 우선이용 등)", depth: 0 },
    { text: "→ 범칙금", depth: 1 },
    
    { text: "▶ 운전자준수사항위반", depth: 0 },
    { text: "► 안전모 미착용", depth: 1 },
    { text: "→ 처벌규정 없음", depth: 2 },
    { text: "► 승차정원 초과", depth: 1 },
    { text: "→ 처벌규정 없음?", depth: 2 },
  ],
  
  "자전거": [
    { text: "▶ 무면허위반", depth: 0 },
    { text: "► 무면허 규정 없음", depth: 1 },
      
    { text: "▶ 음주운전", depth: 0 },
    { text: "► 범칙금", depth: 1 },
    
    { text: "▶ 통행구분위반(보도운행, 자전거도로 우선이용 등)", depth: 0 },
    { text: "→ 범칙금", depth: 2 },
 
    { text: "▶ 운전자준수사항위반", depth: 0 },
    { text: "► 안전모 미착용", depth: 1 },
    { text: "→ 처벌규정 없음", depth: 2 },
    { text: "► 승차정원 초과", depth: 1 },
    { text: "→ 처벌규정 없음?", depth: 2 },
  ]
};

// 위반/처벌 표시
function showPenalties(vehicleType) {
  const penaltySection = document.getElementById('penalty-section');
  const penaltyList = document.getElementById('penalty-list');
  penaltyList.innerHTML = "";
  if (!penalties[vehicleType]) { 
    penaltySection.classList.add('hidden'); 
    return; 
  }
  penaltySection.classList.remove('hidden');

  penalties[vehicleType].forEach((item, idx, arr) => {
    const li = document.createElement('li');
    li.textContent = item.text;
    li.className = "depth" + item.depth;

    if(item.depth === 0) {
      li.addEventListener('click', () => {
        let i = idx + 1;
        while(i < arr.length && arr[i].depth > 0) {
          const el = penaltyList.children[i];
          el.style.display = (el.style.display === 'none') ? 'list-item' : 'none';
          i++;
        }
      });
    }

    penaltyList.appendChild(li);
  });
}

// UI 업데이트
function updateUI() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  bikeCheck.classList.add('hidden');
  basicCheck.classList.add('hidden');
  speedWeightCheck.classList.add('hidden');
  document.getElementById('penalty-section').classList.add('hidden');
  resultDiv.textContent = "판별 결과가 여기에 표시됩니다";

  document.querySelectorAll('#bike-check input, #basic-check input, #speed-weight-check input').forEach(el => {
    if(el.type === "checkbox") el.checked = false;
    else if(el.type === "radio") el.checked = false;
  });

  if (drive === "human") bikeCheck.classList.remove('hidden');
  else if (drive === "motor" || drive === "hybrid") basicCheck.classList.remove('hidden');
}

// 판별 로직
function evaluate() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  if (!drive) return;
  let resultName = "";

  if (drive === "human") {
    const powertrain = document.getElementById('powertrain').checked;
    const steeringsystem = document.getElementById('steeringsystem').checked;
    const brake = document.getElementById('brake').checked;
    const twowheels = document.getElementById('twowheels').checked;
    const ministerialordinance = document.getElementById('ministerialordinance').checked;
    resultName = (powertrain && steeringsystem && brake && twowheels && ministerialordinance) ? "자전거" : "운동기구";
  }

  if (drive === "motor" || drive === "hybrid") {
    const engineExceed = document.getElementById('engineExceed').checked;
    const engineOk = document.getElementById('engineOk').checked;

    if (drive === "motor" && engineExceed) {
      resultName = "이륜자동차";
      speedWeightCheck.classList.add('hidden');
    } 
    else if (engineExceed) {
      resultName = "이륜자동차";
    } 
    else if (engineOk) {
      speedWeightCheck.classList.remove('hidden');
      const speedOk = document.getElementById('speedOk').checked;
      const weightOk = document.getElementById('weightOk').checked;
      const ministerialBox = document.getElementById('ministerialLabel');

      if(drive === "motor") ministerialBox.style.display = 'block';
      else if(drive === "hybrid") ministerialBox.style.display = 'none';

      const ministerialordinance1 = document.getElementById('ministerialordinance1').checked;

      if(drive === "motor") {
        resultName = (speedOk && weightOk && ministerialordinance1) ? "개인형이동장치" : "원동기장치자전거";
      } else if(drive === "hybrid") {
        resultName = (speedOk && weightOk) ? "전기자전거(도로교통법상 자전거)" : "원동기장치자전거";
      }
    }
  }

  resultDiv.textContent = "판별 결과: " + resultName;
  showPenalties(resultName);
}

// 이벤트 바인딩
const driveRadios = document.querySelectorAll('input[name="drive"]');
const engineRadios = document.querySelectorAll('input[name="engine"]');
const bikeCheck = document.getElementById('bike-check');
const basicCheck = document.getElementById('basic-check');
const speedWeightCheck = document.getElementById('speed-weight-check');
const resultDiv = document.getElementById('result');

driveRadios.forEach(r => r.addEventListener('change', () => { updateUI(); evaluate(); }));
engineRadios.forEach(r => r.addEventListener('change', evaluate));
document.querySelectorAll('#bike-check input[type="checkbox"], #speed-weight-check input[type="checkbox"]').forEach(cb => cb.addEventListener('change', evaluate));
</script>

</body>
</html>
