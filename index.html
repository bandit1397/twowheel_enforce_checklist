<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>차종 판별 체크리스트 + 처벌규정</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h2 { color: #2a4d91; }
  .section { margin: 20px 0; padding: 15px; border: 1px solid #aaa; border-radius: 8px; }
  .hidden { display: none; }
  label { display: block; margin: 5px 0; }
  .result { margin-top: 20px; padding: 15px; border: 2px solid #333; border-radius: 8px; background: #f9f9f9; }
  ul { margin: 5px 0 0 20px; }
  li.depth0 { font-weight: bold; margin-top: 8px; }
  li.depth1 { margin-left: 20px; color:#2a4d91; }
  li.depth2 { margin-left: 40px; color:#555; }
</style>
</head>
<body>

<h2>🚦 차종 판별 체크리스트</h2>

<div class="section">
  <h3>1. 동력 방식 선택</h3>
  <label><input type="radio" name="drive" value="human"> 사람의 힘으로 페달 or 손페달 사용</label>
  <label><input type="radio" name="drive" value="motor"> 전동기 단독 가능(스로틀, 파스/스로틀 겸용)</label>
  <label><input type="radio" name="drive" value="hybrid"> 페달 + 전동기 동시 동력(전동기 단독 불가)</label>
</div>

<div class="section hidden" id="bike-check">
  <h3>2. 자전거 조건 확인</h3>
  <label><input type="checkbox" id="powertrain"> 구동장치</label>
  <label><input type="checkbox" id="steeringsystem"> 조향장치</label>
  <label><input type="checkbox" id="brake"> 제동장치</label>
  <label><input type="checkbox" id="twowheels"> 바퀴 2개 이상인 차</label>
</div>

<div class="section hidden" id="basic-check">
  <h3>2. 기본 조건 확인</h3>
  <label><input type="radio" name="engine" id="engineOk" value="ok"> 배기량 125cc 이하 / 전기동력 11kw 이하</label>
  <label><input type="radio" name="engine" id="engineExceed" value="exceed"> 배기량 125cc 초과 또는 전기동력 11kw 초과</label>
</div>

<div class="section hidden" id="speed-weight-check">
  <h3>3. 속도 / 중량 조건 확인</h3>
  <label><input type="checkbox" id="speedOk"> 시속 25km 이상에서 전동기 작동하지 않음</label>
  <label><input type="checkbox" id="weightOk"> 자체 중량 30kg 미만</label>
</div>

<div class="result" id="result">✅ 판별 결과가 여기에 표시됩니다.</div>

<div class="section hidden" id="penalty-section">
  <h3>🚨 차종별 위반 및 처벌</h3>
  <ul id="penalty-list"></ul>
</div>

<script>
// 차종별 처벌 규정 데이터 (depth 구조 적용)
const penalties = {
  "이륜자동차": {
    "무면허위반": [
      "도로교통법 제50조",
      "30일 이하의 징역 또는 100만원 이하 벌금"
    ],
    "음주운전": [
      "도로교통법 제44조",
      "3년 이하 징역 또는 1천만원 이하 벌금"
    ],
    "통행방법위반": [
      "도로교통법 제20조",
      "범칙금 부과"
    ],
    "운전자준수사항위반": [
      "도로교통법 제65조",
      "범칙금 부과"
    ]
  },
  "원동기장치자전거": {
    "무면허위반": [
      "도로교통법 제50조",
      "20만원 이하 벌금"
    ],
    "음주운전": [
      "도로교통법 제44조",
      "500만원 이하 벌금"
    ],
    "통행방법위반": [
      "도로교통법 제20조",
      "범칙금 부과"
    ],
    "운전자준수사항위반": [
      "도로교통법 제65조",
      "범칙금 부과"
    ]
  },
  "개인형이동장치": {
    "무면허위반": [
      "개인형이동장치법 제10조",
      "20만원 이하 과태료"
    ],
    "음주운전": [
      "도로교통법 제44조",
      "500만원 이하 벌금"
    ],
    "통행방법위반": [
      "도로교통법 제20조",
      "범칙금 부과"
    ],
    "운전자준수사항위반": [
      "도로교통법 제65조",
      "범칙금 부과"
    ]
  },
  "전기자전거": {
    "무면허위반": [
      "무면허 규정 없음",
      "모든 연령 가능"
    ],
    "음주운전": [
      "도로교통법 제44조",
      "범칙금/과태료"
    ],
    "통행방법위반": [
      "도로교통법 제20조",
      "적용"
    ],
    "운전자준수사항위반": [
      "도로교통법 제65조",
      "적용"
    ]
  },
  "자전거": {
    "무면허위반": [
      "무면허 규정 없음",
      "모든 연령 가능"
    ],
    "음주운전": [
      "도로교통법 제44조",
      "범칙금/과태료"
    ],
    "통행방법위반": [
      "도로교통법 제20조",
      "적용"
    ],
    "운전자준수사항위반": [
      "도로교통법 제65조",
      "적용"
    ]
  }
};

const driveRadios = document.querySelectorAll('input[name="drive"]');
const bikeCheck = document.getElementById('bike-check');
const basicCheck = document.getElementById('basic-check');
const speedWeightCheck = document.getElementById('speed-weight-check');
const resultDiv = document.getElementById('result');
const engineRadios = document.querySelectorAll('input[name="engine"]');

function updateUI() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  bikeCheck.classList.add('hidden');
  basicCheck.classList.add('hidden');
  speedWeightCheck.classList.add('hidden');
  document.getElementById('penalty-section').classList.add('hidden');
  resultDiv.textContent = "✅ 판별 결과가 여기에 표시됩니다.";

  if (drive === "human") {
    bikeCheck.classList.remove('hidden');
  } else if (drive === "motor" || drive === "hybrid") {
    basicCheck.classList.remove('hidden');
  }
}

function showPenalties(vehicleType) {
  const penaltySection = document.getElementById('penalty-section');
  const penaltyList = document.getElementById('penalty-list');
  penaltyList.innerHTML = "";

  if (!penalties[vehicleType]) {
    penaltySection.classList.add('hidden');
    return;
  }

  penaltySection.classList.remove('hidden');

  for (const [violation, details] of Object.entries(penalties[vehicleType])) {
    // depth 0
    const li0 = document.createElement('li');
    li0.textContent = violation;
    li0.className = "depth0";
    penaltyList.appendChild(li0);

    // depth 1
    const li1 = document.createElement('li');
    li1.textContent = details[0];
    li1.className = "depth1";
    penaltyList.appendChild(li1);

    // depth 2
    const li2 = document.createElement('li');
    li2.textContent = details[1];
    li2.className = "depth2";
    penaltyList.appendChild(li2);
  }
}

function evaluate() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  let resultName = "";

  if (!drive) return;

  if (drive === "human") {
    const powertrain = document.getElementById('powertrain').checked;
    const steeringsystem = document.getElementById('steeringsystem').checked;
    const brake = document.getElementById('brake').checked;
    const twowheels = document.getElementById('twowheels').checked;
    if (powertrain && steeringsystem && brake && twowheels) {
      resultName = "자전거";
    } else {
      resultName = "운동기구";
    }
  }

  if (drive === "motor" || drive === "hybrid") {
    const engineExceed = document.getElementById('engineExceed').checked;
    const engineOk = document.getElementById('engineOk').checked;

    if (engineExceed) {
      resultName = "이륜자동차";
    } else if (engineOk) {
      speedWeightCheck.classList.remove('hidden');
      const speedOk = document.getElementById('speedOk').checked;
      const weightOk = document.getElementById('weightOk').checked;

      if (drive === "motor") {
        resultName = (speedOk && weightOk) ? "개인형이동장치" : "원동기장치자전거";
      } else if (drive === "hybrid") {
        resultName = (speedOk && weightOk) ? "전기자전거" : "원동기장치자전거";
      }
    }
  }

  resultDiv.textContent = "✅ 판별 결과: " + resultName;
  showPenalties(resultName);
}

// 이벤트 바인딩
driveRadios.forEach(r => r.addEventListener('change', () => { updateUI(); evaluate(); }));
engineRadios.forEach(r => r.addEventListener('change', evaluate));
document.querySelectorAll('#bike-check input[type="checkbox"], #speed-weight-check input[type="checkbox"]').forEach(cb => cb.addEventListener('change', evaluate));
</script>

</body>
</html>
