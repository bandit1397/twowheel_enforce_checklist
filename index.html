<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>차종 판별 체크리스트 + 처벌규정</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h2 { color: #2a4d91; }
  .section { margin: 20px 0; padding: 15px; border: 1px solid #aaa; border-radius: 8px; }
  .hidden { display: none; }
  label { display: block; margin: 5px 0; }
  .result { margin-top: 20px; padding: 15px; border: 2px solid #333; border-radius: 8px; background: #f9f9f9; }
  ul { margin: 5px 0 0 20px; }
  li.depth0 { font-weight: bold; margin-top: 8px; }
  li.depth1 { margin-left: 20px; color:#2a4d91; }
  li.depth2 { margin-left: 40px; color:#555; }
</style>
</head>
<body>

<h2>🚦 차종 판별 체크리스트</h2>

<div class="section">
  <h3>1. 동력 방식 선택</h3>
  <label><input type="radio" name="drive" value="human"> 사람의 힘으로 페달 or 손페달 사용</label>
  <label><input type="radio" name="drive" value="motor"> 전동기 단독 가능(스로틀, 파스/스로틀 겸용)</label>
  <label><input type="radio" name="drive" value="hybrid"> 페달 + 전동기 동시 동력(전동기 단독 불가)</label>
</div>

<div class="section hidden" id="bike-check">
  <h3>2. 자전거 조건 확인</h3>
  <label><input type="checkbox" id="powertrain"> 구동장치</label>
  <label><input type="checkbox" id="steeringsystem"> 조향장치</label>
  <label><input type="checkbox" id="brake"> 제동장치</label>
  <label><input type="checkbox" id="twowheels"> 바퀴 2개 이상인 차</label>
</div>

<div class="section hidden" id="basic-check">
  <h3>2. 기본 조건 확인</h3>
  <label><input type="radio" name="engine" id="engineOk" value="ok"> 배기량 125cc 이하 / 전기동력 11kw 이하</label>
  <label><input type="radio" name="engine" id="engineExceed" value="exceed"> 배기량 125cc 초과 또는 전기동력 11kw 초과</label>
</div>

<div class="section hidden" id="speed-weight-check">
  <h3>3. 속도 / 중량 조건 확인</h3>
  <label><input type="checkbox" id="speedOk"> 시속 25km 이상에서 전동기 작동하지 않음</label>
  <label><input type="checkbox" id="weightOk"> 자체 중량 30kg 미만</label>
</div>

<div class="result" id="result">✅ 판별 결과가 여기에 표시됩니다.</div>

<div class="section hidden" id="penalty-section">
  <h3>🚨 차종별 위반 및 처벌</h3>
  <ul id="penalty-list"></ul>
</div>

<script>
// penalties 정의 (원본 그대로)
const penalties = {
  "이륜자동차": [
    { text: "□ 무면허위반", depth: 0 },
    { text: "► 도로교통법 제50조", depth: 1 },
    { text: "→ 30일 이하의 징역 또는 100만원 이하 벌금", depth: 2 },

    { text: "□ 음주운전", depth: 0 },
    { text: "► 도로교통법 제44조", depth: 1 },
    { text: "→ 3년 이하 징역 또는 1천만원 이하 벌금", depth: 2 },

    { text: "□ 통행방법위반", depth: 0 },
    { text: "► 도로교통법 제20조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 },

    { text: "□ 운전자준수사항위반", depth: 0 },
    { text: "► 도로교통법 제65조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 }
  ],
  "원동기장치자전거": [
    { text: "□ 무면허위반", depth: 0 },
    { text: "► 도로교통법 제50조", depth: 1 },
    { text: "→ 20만원 이하 벌금", depth: 2 },

    { text: "□ 음주운전", depth: 0 },
    { text: "► 도로교통법 제44조", depth: 1 },
    { text: "→ 500만원 이하 벌금", depth: 2 },

    { text: "□ 통행방법위반", depth: 0 },
    { text: "► 도로교통법 제20조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 },

    { text: "□ 운전자준수사항위반", depth: 0 },
    { text: "► 도로교통법 제65조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 }
  ],
  "개인형이동장치": [
    { text: "□ 무면허위반", depth: 0 },
    { text: "► 개인형이동장치법 제10조", depth: 1 },
    { text: "→ 20만원 이하 과태료", depth: 2 },

    { text: "□ 음주운전", depth: 0 },
    { text: "► 도로교통법 제44조", depth: 1 },
    { text: "→ 500만원 이하 벌금", depth: 2 },

    { text: "□ 통행방법위반", depth: 0 },
    { text: "► 도로교통법 제20조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 },

    { text: "□ 운전자준수사항위반", depth: 0 },
    { text: "► 도로교통법 제65조", depth: 1 },
    { text: "→ 범칙금 부과", depth: 2 }
  ],
  "전기자전거": [
    { text: "□ 무면허위반", depth: 0 },
    { text: "► 무면허 규정 없음", depth: 1 },
    { text: "→ 모든 연령 가능", depth: 2 },

    { text: "□ 음주운전", depth: 0 },
    { text: "► 도로교통법 제44조", depth: 1 },
    { text: "→ 범칙금/과태료", depth: 2 },

    { text: "□ 통행방법위반", depth: 0 },
    { text: "► 도로교통법 제20조", depth: 1 },
    { text: "→ 적용", depth: 2 },

    { text: "□ 운전자준수사항위반", depth: 0 },
    { text: "► 도로교통법 제65조", depth: 1 },
    { text: "→ 적용", depth: 2 }
  ],
  "자전거": [
    { text: "□ 무면허위반", depth: 0 },
    { text: "► 무면허 규정 없음", depth: 1 },
    { text: "→ 모든 연령 가능", depth: 2 },

    { text: "□ 음주운전", depth: 0 },
    { text: "► 도로교통법 제44조", depth: 1 },
    { text: "→ 범칙금/과태료", depth: 2 },

    { text: "□ 통행방법위반", depth: 0 },
    { text: "► 도로교통법 제20조", depth: 1 },
    { text: "→ 적용", depth: 2 },

    { text: "□ 운전자준수사항위반", depth: 0 },
    { text: "► 도로교통법 제65조", depth: 1 },
    { text: "→ 적용", depth: 2 }
  ]
};

// 위반/처벌 표시 함수
function showPenalties(vehicleType) {
  const penaltySection = document.getElementById('penalty-section');
  const penaltyList = document.getElementById('penalty-list');
  penaltyList.innerHTML = "";

  if (!penalties[vehicleType]) {
    penaltySection.classList.add('hidden');
    return;
  }

  penaltySection.classList.remove('hidden');

  penalties[vehicleType].forEach(item => {
    const li = document.createElement('li');
    li.textContent = item.text;
    li.className = "depth" + item.depth;
    penaltyList.appendChild(li);
  });
}

// UI 업데이트
function updateUI() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  bikeCheck.classList.add('hidden');
  basicCheck.classList.add('hidden');
  speedWeightCheck.classList.add('hidden');
  document.getElementById('penalty-section').classList.add('hidden');
  resultDiv.textContent = "✅ 판별 결과가 여기에 표시됩니다.";

  // 선택 초기화
  document.querySelectorAll('#bike-check input, #basic-check input, #speed-weight-check input').forEach(el => {
    if(el.type === "checkbox") el.checked = false;
    else if(el.type === "radio") el.checked = false;
  });

  if (drive === "human") {
    bikeCheck.classList.remove('hidden');
  } else if (drive === "motor" || drive === "hybrid") {
    basicCheck.classList.remove('hidden');
  }
}

// 판별 로직
function evaluate() {
  const drive = document.querySelector('input[name="drive"]:checked')?.value;
  if (!drive) return;

  let resultName = "";

  if (drive === "human") {
    const powertrain = document.getElementById('powertrain').checked;
    const steeringsystem = document.getElementById('steeringsystem').checked;
    const brake = document.getElementById('brake').checked;
    const twowheels = document.getElementById('twowheels').checked;
    resultName = (powertrain && steeringsystem && brake && twowheels) ? "자전거" : "운동기구";
  }

  if (drive === "motor" || drive === "hybrid") {
    const engineExceed = document.getElementById('engineExceed').checked;
    const engineOk = document.getElementById('engineOk').checked;

    if (engineExceed) {
      resultName = "이륜자동차";
    } else if (engineOk) {
      speedWeightCheck.classList.remove('hidden');
      const speedOk = document.getElementById('speedOk').checked;
      const weightOk = document.getElementById('weightOk').checked;

      if (drive === "motor") {
        resultName = (speedOk && weightOk) ? "개인형이동장치" : "원동기장치자전거";
      } else if (drive === "hybrid") {
        resultName = (speedOk && weightOk) ? "전기자전거" : "원동기장치자전거";
      }
    }
  }

  resultDiv.textContent = "✅ 판별 결과: " + resultName;
  showPenalties(resultName);
}

// 이벤트 바인딩
const driveRadios = document.querySelectorAll('input[name="drive"]');
const engineRadios = document.querySelectorAll('input[name="engine"]');
const bikeCheck = document.getElementById('bike-check');
const basicCheck = document.getElementById('basic-check');
const speedWeightCheck = document.getElementById('speed-weight-check');
const resultDiv = document.getElementById('result');

driveRadios.forEach(r => r.addEventListener('change', () => { updateUI(); evaluate(); }));
engineRadios.forEach(r => r.addEventListener('change', evaluate));
document.querySelectorAll('#bike-check input[type="checkbox"], #speed-weight-check input[type="checkbox"]').forEach(cb => cb.addEventListener('change', evaluate));
</script>

</body>
</html>
